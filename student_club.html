<!DOCTYPE html>
<html lang="en">
<head>
  <title>Club Membership</title>

  <style>

    .selected {
      text-decoration: line-through ;
      font-style: italic;
      color: gray;
    }

    input {
      width: 100%;
      padding: 5px;
      margin: 5px 5px 5px 0px;
      box-sizing: border-box;

    }

  </style>

</head>
<body>

  <!-- Establishes HTML elements -->
<h1>Student Club Roster</h1>

<h2>Add Students</h2>

<label for="student-name">Student Name</label><input id="student-name" name="student-name">
<br>
<label for="student-id">Student ID</label><input id="student-id" name="student-id">
<br>
<label for="student-gpa">Student GPA</label><input id="student-gpa" name="student-gpa" type="number">
<br>
<button id="add-student">Add Student</button>

<h2>Student List</h2>

<p>There are
  <span id="student-count">
          <!-- use JavaScript to count the number of students, and show here -->
        </span>
  student(s) in the club.</p>

<ul id="student-list">
  <!-- use JavaScript to create li elements  -->
</ul>

<script>

    // stores the student-count span in a variable
    let studentCountElement = document.querySelector('#student-count')
    
    // sets the span contents to 0 using JS
    studentCountElement.innerHTML = 0

    // Assigns HTML elements variables
    let addStudentButton = document.querySelector('#add-student')

    let newStudentNameInput = document.querySelector('#student-name')
    let newStudentIdInput = document.querySelector('#student-id')
    let newStudentGpaInput = document.querySelector('#student-gpa')

    // click event listener that uses a callback funtion to store the user input in variables.
    // Validates fields to ensure proper input.

    addStudentButton.addEventListener('click', function() {

        let newStudentName = newStudentNameInput.value

        let newStudentId = newStudentIdInput.value
        
        let newStudentGpa = newStudentGpaInput.value

        if (newStudentName == '') {
            alert('Please enter a student name')
            return
        }

        if (newStudentId == '') {
            alert('Please enter a student ID')
            return
        }

        if (newStudentGpa == '') {
            alert('Please enter a student GPA')
            return
        }

        if (newStudentGpa < 0 || newStudentGpa > 4) {
        alert('GPA must be between 0 and 4')
        return
}


      // Callback function continues.
      // Assigns unordered list to a variable.
      // Creates new variable containing an empty li element, updates that li element with
      // a string containing user input from all 3 fields, then appens the li element 
      // as a child of studentListItem.
      // student-count is then updated with the length of the UL element
        
        let studentListItem = document.querySelector('#student-list')

        let newStudentListItem = document.createElement('li')
        newStudentListItem.innerHTML = `Name: ${newStudentName} ID: ${newStudentId} GPA: ${newStudentGpa}`

        studentListItem.appendChild(newStudentListItem)

        studentCountElement.innerHTML = studentListItem.children.length

        // Clears user input after successfully adding a new li element to the UL
        newStudentNameInput.value = ''
        newStudentIdInput.value = ''
        newStudentGpaInput.value = ''

        


    })









  /* Add the following functionality to this page

  [Note on HTML element notation: span#student-count means the span element with id="student-count" ]

  When the page loads:
      * Using JavaScript, display 0 in the span#student-count  (1pt)

      * Add an event listener so that when button#add-students is clicked:
          - Read the value from the student-name input, save in a variable. If the name is not entered, show an alert error message and return. (1pt)
          - Read the value from the student-id input, save in a variable. If the id is not entered, show an alert error message and return. (1pt)
          - Read the value from the student-gpa input, save in a variable. If the GPA is not entered, or is not in the range 0-4, show an alert error message and return.  (1pt)
          - Create a new li element (1pt)
          - Set the innerHTML of the li element to a string containing the student's name, id, and GPA  (1pt)
              for example "Beyonce Knowles, id: aa1234bb, GPA 3.8"
              Use a template string to generate this string
          - Add the new li element to ul#student-list element (1pt)
          - Clear the values of the three input elements (1pt)
          - Update the span#student-count value to the new number of students (1pt)

      You should not need to modify any of the HTML.
  */

</script>

</body>
</html>